<div class="settings-view">
    <div class="settings-container">
        <!-- Sidebar Navigation -->
        <aside class="settings-sidebar">
            <div class="settings-sidebar-header">
                <h2>Settings</h2>
            </div>
            <nav class="settings-nav">
                <div class="settings-nav-section">
                    <div class="settings-nav-title">Compte</div>
                    <a href="#"
                       class="settings-nav-item active"
                       data-action="switchSection"
                       data-section="profile">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        Profil
                    </a>
                    <a href="#"
                       class="settings-nav-item"
                       data-action="switchSection"
                       data-section="storage">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                        </svg>
                        Stockage
                    </a>
                    <a href="#"
                       class="settings-nav-item"
                       data-action="switchSection"
                       data-section="preferences">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                        </svg>
                        Préférences
                    </a>
                </div>
                
                <div class="settings-nav-section" data-auth="admin" style="display: none;">
                    <div class="settings-nav-title">Administration</div>
                    <a href="#"
                       class="settings-nav-item"
                       data-action="switchSection"
                       data-section="users">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        Utilisateurs
                    </a>
                    <a href="#"
                       class="settings-nav-item"
                       data-action="switchSection"
                       data-section="sources">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                        </svg>
                        Sources de données
                    </a>
                    <a href="#"
                       class="settings-nav-item"
                       data-action="switchSection"
                       data-section="metrics">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 20V10M12 20V4M6 20v-6"/>
                        </svg>
                        Métriques
                    </a>
                </div>
            </nav>
        </aside>
        
        <!-- Content Area -->
        <main class="settings-content">
            <!-- Profile Section -->
            <section class="settings-section active" id="settings-profile">
                <div class="settings-section-header">
                    <h3>Profil</h3>
                    <p>Gérez vos informations personnelles et votre sécurité</p>
                </div>
                
                <div class="settings-cards-grid">
                    <!-- Informations personnelles -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                    <circle cx="12" cy="7" r="4"/>
                                </svg>
                                Informations personnelles
                            </h4>
                        </div>
                        <div class="settings-form">
                            <div class="settings-form-row">
                                <div class="settings-field">
                                    <label>Nom</label>
                                    <input type="text" id="settingsName" placeholder="Votre nom">
                                </div>
                                <div class="settings-field">
                                    <label>Email</label>
                                    <input type="email" id="settingsEmail" placeholder="votre@email.com" disabled>
                                    <span class="settings-hint">L'email ne peut pas être modifié</span>
                                </div>
                            </div>
                            <div class="settings-actions">
                                <button class="settings-btn primary" data-action="saveProfile">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                                        <polyline points="17 21 17 13 7 13 7 21"/>
                                        <polyline points="7 3 7 8 15 8"/>
                                    </svg>
                                    Sauvegarder
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Changer mot de passe -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                </svg>
                                Changer le mot de passe
                            </h4>
                        </div>
                        <div class="settings-form">
                            <div class="settings-field">
                                <label>Mot de passe actuel</label>
                                <input type="password" id="currentPassword" placeholder="••••••••">
                            </div>
                            <div class="settings-form-row">
                                <div class="settings-field">
                                    <label>Nouveau mot de passe</label>
                                    <input type="password" id="newPassword" placeholder="••••••••">
                                </div>
                                <div class="settings-field">
                                    <label>Confirmer</label>
                                    <input type="password" id="confirmNewPassword" placeholder="••••••••">
                                </div>
                            </div>
                            <div class="settings-actions">
                                <button class="settings-btn secondary" data-action="changePassword">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                    </svg>
                                    Changer le mot de passe
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Storage Section -->
            <section class="settings-section" id="settings-storage">
                <div class="settings-section-header">
                    <h3>Stockage</h3>
                    <p>Gérez vos fichiers MF4, DBC, layouts, mappings et analyses</p>
                </div>
                
                <!-- Quota Card -->
                <div class="storage-quota-card">
                    <div class="storage-quota-header">
                        <div class="storage-quota-info">
                            <span class="storage-quota-used" id="storageUsed">0 B</span>
                            <span class="storage-quota-separator">/</span>
                            <span class="storage-quota-total" id="storageTotal">5.0 GB</span>
                        </div>
                        <div class="storage-quota-percent" id="storagePercent">0%</div>
                    </div>
                    <div class="storage-quota-bar">
                        <div class="storage-quota-bar-fill" id="storageBarFill" style="width: 0%"></div>
                    </div>
                    <div class="storage-quota-details" id="storageDetails"></div>
                </div>
                
                <!-- Category Tabs -->
                <div class="storage-tabs">
                    <button class="storage-tab active"
                            data-action="switchCategory"
                            data-category="mf4">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                        </svg>
                        MF4
                        <span class="storage-tab-count" id="count-mf4">0</span>
                    </button>
                    <button class="storage-tab"
                            data-action="switchCategory"
                            data-category="dbc">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                        </svg>
                        DBC
                        <span class="storage-tab-count" id="count-dbc">0</span>
                    </button>
                    <button class="storage-tab"
                            data-action="switchCategory"
                            data-category="layouts">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <line x1="3" y1="9" x2="21" y2="9"/>
                            <line x1="9" y1="21" x2="9" y2="9"/>
                        </svg>
                        Layouts
                        <span class="storage-tab-count" id="count-layouts">0</span>
                    </button>
                    <button class="storage-tab"
                            data-action="switchCategory"
                            data-category="mappings">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="8" y1="6" x2="21" y2="6"/>
                            <line x1="8" y1="12" x2="21" y2="12"/>
                            <line x1="8" y1="18" x2="21" y2="18"/>
                            <line x1="3" y1="6" x2="3.01" y2="6"/>
                            <line x1="3" y1="12" x2="3.01" y2="12"/>
                            <line x1="3" y1="18" x2="3.01" y2="18"/>
                        </svg>
                        Mappings
                        <span class="storage-tab-count" id="count-mappings">0</span>
                    </button>
                    <button class="storage-tab"
                            data-action="switchCategory"
                            data-category="analyses">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 20V10M12 20V4M6 20v-6"/>
                        </svg>
                        Analyses
                        <span class="storage-tab-count" id="count-analyses">0</span>
                    </button>
                </div>
                
                <!-- Files Area -->
                <div class="storage-files-area">
                    <!-- Header -->
                    <div class="storage-files-header">
                        <div class="storage-files-title">
                            <h4 id="storageCategoryTitle">Fichiers MF4</h4>
                            <label class="storage-show-default">
                                <input type="checkbox" id="showDefaultFiles">
                                Afficher les fichiers de démonstration
                            </label>
                        </div>
                        <div class="storage-files-actions">
                            <button class="settings-btn secondary" data-action="refresh">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 4 23 10 17 10"/>
                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                                </svg>
                                Actualiser
                            </button>
                            <button class="settings-btn primary" data-action="openUpload">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="17 8 12 3 7 8"/>
                                    <line x1="12" y1="3" x2="12" y2="15"/>
                                </svg>
                                Uploader
                            </button>
                        </div>
                    </div>
                    
                    <!-- Files List -->
                    <div class="storage-files-list" id="storageFilesList">
                        <div class="storage-loading">Chargement...</div>
                    </div>
                </div>
            </section>

            <!-- Modal Upload -->
            <div class="storage-modal" id="storageUploadModal">
                <div class="storage-modal-content">
                    <div class="storage-modal-header">
                        <h3>Uploader un fichier</h3>
                        <button class="storage-modal-close" data-action="closeUpload">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"/>
                                <line x1="6" y1="6" x2="18" y2="18"/>
                            </svg>
                        </button>
                    </div>
                    <div class="storage-modal-body">
                        <div class="storage-upload-zone" id="storageUploadZone">
                            <input type="file" id="storageFileInput" hidden>
                            <div class="storage-upload-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="17 8 12 3 7 8"/>
                                    <line x1="12" y1="3" x2="12" y2="15"/>
                                </svg>
                            </div>
                            <p>Glissez un fichier ici ou <span data-action="browseFile">parcourez</span></p>
                            <span class="storage-upload-hint" id="storageUploadHint">Extensions: .mf4, .mdf, .dat</span>
                        </div>
                        
                        <div class="storage-upload-selected" id="storageUploadSelected" style="display: none;">
                            <div class="storage-upload-file-info">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14 2 14 8 20 8"/>
                                </svg>
                                <div>
                                    <div class="storage-upload-filename" id="storageUploadFilename">filename.mf4</div>
                                    <div class="storage-upload-filesize" id="storageUploadFilesize">0 MB</div>
                                </div>
                            </div>
                            <button class="storage-upload-remove" data-action="removeSelected">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                </svg>
                            </button>
                        </div>
                        
                        <div class="storage-upload-description">
                            <label>Description (optionnel)</label>
                            <input type="text" id="storageUploadDescription" placeholder="Description du fichier...">
                        </div>
                        
                        <div class="storage-upload-progress" id="storageUploadProgress" style="display: none;">
                            <div class="storage-upload-progress-bar">
                                <div class="storage-upload-progress-fill" id="storageUploadProgressFill"></div>
                            </div>
                            <span class="storage-upload-progress-text" id="storageUploadProgressText">0%</span>
                        </div>
                    </div>
                    <div class="storage-modal-footer">
                        <button class="settings-btn secondary" data-action="closeUpload">Annuler</button>
                        <button class="settings-btn primary" id="storageUploadBtn" data-action="upload" disabled>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="17 8 12 3 7 8"/>
                                <line x1="12" y1="3" x2="12" y2="15"/>
                            </svg>
                            Uploader
                        </button>
                    </div>
                </div>
            </div>

            <!-- Modal Confirmation Suppression -->
            <div class="storage-modal" id="storageDeleteModal">
                <div class="storage-modal-content small">
                    <div class="storage-modal-header">
                        <h3>Confirmer la suppression</h3>
                        <button class="storage-modal-close" data-action="closeDelete">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"/>
                                <line x1="6" y1="6" x2="18" y2="18"/>
                            </svg>
                        </button>
                    </div>
                    <div class="storage-modal-body">
                        <p>Êtes-vous sûr de vouloir supprimer <strong id="storageDeleteFilename"></strong> ?</p>
                        <p class="storage-delete-warning">Cette action est irréversible.</p>
                    </div>
                    <div class="storage-modal-footer">
                        <button class="settings-btn secondary" data-action="closeDelete">Annuler</button>
                        <button class="settings-btn danger" data-action="confirmDelete">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Supprimer
                        </button>
                    </div>
                </div>
            </div>

            <!-- Preferences Section -->
            <section class="settings-section" id="settings-preferences">
                <div class="settings-section-header">
                    <h3>Préférences</h3>
                    <p>Personnalisez votre expérience d'utilisation</p>
                </div>
                
                <div class="settings-cards-grid">
                    <!-- Affichage -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                                    <line x1="8" y1="21" x2="16" y2="21"/>
                                    <line x1="12" y1="17" x2="12" y2="21"/>
                                </svg>
                                Affichage
                            </h4>
                        </div>
                        <div class="settings-prefs-grid">
                            <div class="settings-pref-item">
                                <label>Thème</label>
                                <select id="settingsTheme">
                                    <option value="dark" selected>Sombre</option>
                                    <option value="light">Clair</option>
                                    <option value="auto">Auto (système)</option>
                                </select>
                            </div>
                            <div class="settings-pref-item">
                                <label>Langue</label>
                                <select id="settingsLanguage">
                                    <option value="fr" selected>Français</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- EDA Settings -->
                    <div class="settings-card">
                        <div class="settings-card-header">
                            <h4>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M3 3v18h18"/>
                                    <path d="M18 9l-5 5-4-4-3 3"/>
                                </svg>
                                Interactive EDA
                            </h4>
                        </div>
                        <div class="settings-prefs-grid">
                            <div class="settings-pref-item">
                                <label>LOD par défaut</label>
                                <input type="number" id="settingsLod" value="2000" min="500" max="10000" step="500">
                            </div>
                            <div class="settings-pref-item">
                                <label>Interpolation</label>
                                <select id="settingsInterpolation">
                                    <option value="linear" selected>Linéaire</option>
                                    <option value="step">Steps</option>
                                    <option value="spline">Spline</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-actions" style="margin-top: 24px;">
                    <button class="settings-btn primary" data-action="savePreferences">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                            <polyline points="17 21 17 13 7 13 7 21"/>
                            <polyline points="7 3 7 8 15 8"/>
                        </svg>
                        Sauvegarder les préférences
                    </button>
                </div>
            </section>
            
            <!-- Users Section (Admin) -->
            <section class="settings-section" id="settings-users">
                <div class="settings-section-header">
                    <h3>Gestion des utilisateurs</h3>
                    <p>Administrez les comptes utilisateurs de la plateforme</p>
                </div>
                
                <!-- Stats Cards -->
                <div class="settings-stats-grid">
                    <div class="settings-stat-card highlight">
                        <div class="settings-stat-value" id="statTotalUsers">-</div>
                        <div class="settings-stat-label">Utilisateurs</div>
                    </div>
                    <div class="settings-stat-card">
                        <div class="settings-stat-value" id="statActiveUsers">-</div>
                        <div class="settings-stat-label">Actifs</div>
                    </div>
                    <div class="settings-stat-card">
                        <div class="settings-stat-value" id="statAdminUsers">-</div>
                        <div class="settings-stat-label">Admins</div>
                    </div>
                </div>
                
                <div class="settings-card full-width">
                    <div class="settings-card-header">
                        <h4>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                            </svg>
                            Liste des utilisateurs
                        </h4>
                        <button class="settings-btn small secondary" data-action="refreshUsers">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"/>
                                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                            </svg>
                            Actualiser
                        </button>
                    </div>
                    <div class="settings-users-grid" id="settingsUsersList">
                        <div class="settings-loading">Chargement...</div>
                    </div>
                </div>
            </section>
            
            <!-- Sources Section (Admin) -->
            <section class="settings-section" id="settings-sources">
                <div class="settings-section-header">
                    <h3>Sources de données</h3>
                    <p>Gérez les fichiers MF4 et DBC disponibles sur le serveur</p>
                </div>
                
                <div class="settings-card full-width">
                    <div class="settings-coming-soon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        <div>
                            <strong>Fonctionnalité en développement</strong>
                            <p>La gestion des sources de données sera bientôt disponible</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Metrics Section (Admin) -->
            <section class="settings-section" id="settings-metrics">
                <div class="settings-section-header">
                    <h3>Métriques</h3>
                    <p>Statistiques d'utilisation de la plateforme</p>
                </div>
                
                <!-- Stats temps réel -->
                <div class="settings-stats-grid metrics-realtime">
                    <div class="settings-stat-card highlight">
                        <div class="settings-stat-value" id="metricActiveSessions">-</div>
                        <div class="settings-stat-label">Sessions actives</div>
                    </div>
                    <div class="settings-stat-card">
                        <div class="settings-stat-value" id="metricTodayUsers">-</div>
                        <div class="settings-stat-label">Utilisateurs aujourd'hui</div>
                    </div>
                    <div class="settings-stat-card">
                        <div class="settings-stat-value" id="metricTodayRequests">-</div>
                        <div class="settings-stat-label">Requêtes aujourd'hui</div>
                    </div>
                    <div class="settings-stat-card">
                        <div class="settings-stat-value" id="metricAvgLatency">-</div>
                        <div class="settings-stat-label">Latence moyenne</div>
                    </div>
                </div>
                
                <!-- Weekly Summary -->
                <div class="settings-card full-width">
                    <div class="settings-card-header">
                        <h4>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                            Résumé des 7 derniers jours
                        </h4>
                        <button class="settings-btn small secondary" data-action="refreshMetrics">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"/>
                                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                            </svg>
                            Actualiser
                        </button>
                    </div>
                    
                    <div class="metrics-weekly-summary" id="metricsWeeklySummary">
                        <div class="settings-loading">Chargement...</div>
                    </div>
                </div>
                
                <!-- Daily Breakdown -->
                <div class="settings-card full-width">
                    <div class="settings-card-header">
                        <h4>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 20V10M12 20V4M6 20v-6"/>
                            </svg>
                            Détails par jour
                        </h4>
                    </div>
                    
                    <div class="metrics-daily-breakdown" id="metricsDailyBreakdown"></div>
                </div>
                
                <!-- Top Endpoints -->
                <div class="settings-card full-width">
                    <div class="settings-card-header">
                        <h4>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                            </svg>
                            Endpoints les plus utilisés (aujourd'hui)
                        </h4>
                    </div>
                    
                    <div class="metrics-endpoints-list" id="metricsEndpointsList"></div>
                </div>
                
                <!-- Latency Stats -->
                <div class="settings-card full-width">
                    <div class="settings-card-header">
                        <h4>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12 6 12 12 16 14"/>
                            </svg>
                            Statistiques de latence (aujourd'hui)
                        </h4>
                    </div>
                    
                    <div class="metrics-latency-stats" id="metricsLatencyStats"></div>
                </div>
            </section>
            
            <!-- Not logged in state -->
            <section class="settings-section" id="settings-not-logged">
                <div class="settings-login-prompt">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                    <h3>Connexion requise</h3>
                    <p>Connectez-vous pour accéder aux paramètres de votre compte</p>
                    <button class="settings-btn primary" data-action="showLogin">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                            <polyline points="10 17 15 12 10 7"/>
                            <line x1="15" y1="12" x2="3" y2="12"/>
                        </svg>
                        Se connecter
                    </button>
                </div>
            </section>
        </main>
    </div>
</div>